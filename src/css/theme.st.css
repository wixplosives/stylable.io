@st-import Docusaurus from "./docusaurus.st.css";
@st-import [
    --ifm-color-primary,
    --ifm-color-primary-dark,
    --ifm-color-primary-darker,
    --ifm-color-primary-darkest,
    --ifm-color-primary-light,
    --ifm-color-primary-lighter,
    --ifm-color-primary-lightest,
    --ifm-background-color,
    --ifm-code-font-size,
    --ifm-container-width,
    --ifm-container-width-xl,
    --ifm-color-emphasis-100,
    --ifm-background-surface-color,
    --ifm-navbar-background-color,
    --ifm-navbar-padding-horizontal,
    --ifm-navbar-padding-vertical,
    --ifm-navbar-height,
    --ifm-font-family-base,
] from "./infima.st.css";
@st-import Hero from "../components/hero.st.css";
@st-import Feature from "../components/feature.st.css";
@st-import GithubIcon from "../components/github-icon.st.css";
@st-import Button from "../components/button.st.css";
@st-import [buttonDesign1, buttonDesign2] from "./variants/button.st.css";
@st-import HeroVariant from "./variants/hero.st.css";

:global(html) {
    /* ToDo: mark sheet with side-effects */
    --side-effect: 'applied';
}

@property --colorScheme {
    syntax: 'light | dark';
    inherits: true;
    initial-value: 'light';
}

:vars {
    black0: #0A1020;
    black1: #1E222E;
    black2: #272B37;
    black3: #333742;
    black4: #4D505A;
    green0-2: #15b270;
    green0-1: #47d57d;
    green0: #7ffd8c;
    green1: #a0f984;
    green2: #c9f37a;
    blue0-2: #1a325e;
    blue0-1: #106686;
    blue0: #00BFC9;
    blue1: #38d0e3;
    blue2: #72e2ff;
    red0: #70001b;
    red1: #8b1727;
    red2: #b33a3a;
    lightPrimary: #0a1020;
    lightPrimary1: rgba(10, 16, 32, 0.81);
    lightPrimary2: rgba(10, 16, 32, 0.49);
    lightPrimary3: rgba(10, 16, 32, 0.18);
    lightPrimary4: hsla(224, 52%, 8%, 0.5);
    lightBgColor: #EDF0FC;
    darkPrimary: #FFFFFF;
    darkPrimary1: rgba(255, 255, 255, 0.66);
    darkPrimary2: rgba(255, 255, 255, 0.36);
    darkPrimary3: rgba(255, 255, 255, 0.16);
    darkPrimary4: rgba(255, 255, 255, 0.6);
    darkBgColor: value(black0);
}

.root {
    -st-global: ':where(:root)';
}

@font-face {
    font-family: Poppins;
    src: url(../../static/fonts/poppins/Poppins-Light.ttf);
}

@st-scope :global(/**/) {
    html {
        background: var(--bgColor);
    }

    Docusaurus {
        --ifm-font-family-base: 'Poppins', sans-serif;
        /*
        ToDo: figure out navbar padding 
        --ifm-navbar-padding-horizontal: 35px;
        --ifm-navbar-padding-vertical: 20px;
        --ifm-navbar-height: auto; 
        */
    }

    Docusaurus::navbar {
        backdrop-filter: blur(6px);
    }

    Feature::image {
        height: 125px;
        margin: 2.25em 0;
        width: 125px;
        fill: #1b1f23;
    }

    Button:callToAction {
        -st-mixin: buttonDesign2(
                       fgColor value(lightPrimary),
                       bgColor #ffffff,
                   );
    }

    Hero {
        -st-mixin: HeroVariant(
                       darkBgColor value(black0),
                       lightBgColor value(lightBgColor)
                   );
    }

    a.GithubIcon:hover {
        opacity: 0.6;
    }

    @media screen and (max-width: 996px) {
        Feature {
            padding: 2.5em;
        }

        Feature::image {
            float: left;
            margin: 0 3em 0 0;
        }
    }

    @media screen and (max-width: 600px) {
        Feature::image {
            float: none;
            margin: 0 0 1em;
            width: 25%;
        }
    }
}

@st-scope Docusaurus:themeMode(light) {
    & {
        --colorScheme: 'light';
        --fgColor: value(lightPrimary);
        --bgColor: value(lightBgColor);
    }

    & {
        --ifm-background-color: value(lightBgColor) !important;
        --ifm-background-surface-color: value(lightBgColor) !important;
        --ifm-color-primary: green !important;
        --ifm-color-primary-dark: #3a8d38 !important;
        --ifm-color-primary-darker: #368535 !important;
        --ifm-color-primary-darkest: #2d6e2b !important;
        --ifm-color-primary-light: #46ad44 !important;
        --ifm-color-primary-lighter: #4ab547 !important;
        --ifm-color-primary-lightest: #60bf5d !important;
        --ifm-code-font-size: 95% !important;
        --ifm-container-width: 1024px !important;
        --ifm-container-width-xl: 1024px !important;
        --ifm-navbar-background-color: value(darkPrimary1) !important;
    }

    &::navbar {
        background-color: value(darkPrimary1);
    }

    Button {
        -st-mixin: buttonDesign1(
                       fgColor var(--fgColor),
                       bgColor var(--bgColor),
                       accentColor value(green0-1)
                   );
        background: white;
    }

    Button::icon {
        filter: invert(1);
        background-color: #ffffff;
    }
}

@st-scope Docusaurus:themeMode(dark) {
    & {
        /* site */
        --colorScheme: 'dark';
        --fgColor: value(darkPrimary);
        --bgColor: value(darkBgColor);
    }

    & {
        /* docusaurus */
        --ifm-background-color: value(black0) !important;
        --ifm-background-surface-color: value(black0) !important;
        --ifm-color-primary: green !important;
        --ifm-color-primary-dark: #3a8d38 !important;
        --ifm-color-primary-darker: #368535 !important;
        --ifm-color-primary-darkest: #2d6e2b !important;
        --ifm-color-primary-light: #46ad44 !important;
        --ifm-color-primary-lighter: #4ab547 !important;
        --ifm-color-primary-lightest: #60bf5d !important;
        --ifm-code-font-size: 95% !important;
        --ifm-container-width: 1024px !important;
        --ifm-container-width-xl: 1024px !important;
        --ifm-navbar-background-color: value(lightPrimary1) !important;
    }

    &::navbar {
        background-color: value(lightPrimary1);
    }

    Button {
        /* --bgColor: white; */
        -st-mixin: buttonDesign1(
                       fgColor var(--fgColor),
                       bgColor value(lightPrimary4),
                       accentColor value(green0-1),
                       accentBgColor value(lightPrimary2)
                   );
    }

    Button::icon {
        mix-blend-mode: lighten;
    }

    .GithubIcon::before {
        filter: invert(1);
    }

    Feature::image {
        fill: #fff;
    }
}

/*** GLOBAL - ToDo: check if this is valid api ***/

/* The line highligted by code block using "```lang {line}" */
.docusaurus-highlight-code-line {
    -st-global: '.docusaurus-highlight-code-line';
    background-color: rgb(72, 77, 91);
    display: block;
    margin: 0 calc(-1 * var(--ifm-pre-padding));
    padding: 0 var(--ifm-pre-padding);
}

/* inline highlighted code inline (cheatsheet for example) */
.inline-code {
    -st-global: '.inline-code';
    margin: 0 !important;
    width: fit-content;
    overflow: hidden;
}

.inline-code code {
    padding: 5px;
}

.inline-code button[title='Copy'] {
    display: none;
}
