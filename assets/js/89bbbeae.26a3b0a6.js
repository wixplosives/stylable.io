"use strict";(self.webpackChunkstylable_io=self.webpackChunkstylable_io||[]).push([[3914],{3905:(e,n,a)=>{a.d(n,{Zo:()=>m,kt:()=>d});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=t.createContext({}),c=function(e){var n=t.useContext(o),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},m=function(e){var n=c(e.components);return t.createElement(o.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=c(a),d=r,x=u["".concat(o,".").concat(d)]||u[d]||p[d]||i;return a?t.createElement(x,l(l({ref:n},m),{},{components:a})):t.createElement(x,l({ref:n},m))}));function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<i;c++)l[c]=a[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3311:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var t=a(7462),r=(a(7294),a(3905));const i={id:"mixins",title:"Mixins"},l=void 0,s={unversionedId:"references/mixins",id:"references/mixins",title:"Mixins",description:"Stylable mixins enable you to reuse complex styles and CSS behaviors, defined in CSS or Javascript, and apply them to any style-rule during build time.",source:"@site/docs/references/mixins.md",sourceDirName:"references",slug:"/references/mixins",permalink:"/docs/references/mixins",draft:!1,editUrl:"https://github.com/wixplosives/stylable.io/edit/master/docs/references/mixins.md",tags:[],version:"current",frontMatter:{id:"mixins",title:"Mixins"},sidebar:"Specification Reference",previous:{title:"Stylable Variable",permalink:"/docs/references/st-variables"},next:{title:"Formatters",permalink:"/docs/references/formatters"}},o={},c=[{value:"CSS mixins",id:"css-mixins",level:2},{value:"Variable overrides",id:"variable-overrides",level:3},{value:"Partial CSS mixins",id:"partial-css-mixins",level:2},{value:"Example",id:"example",level:4},{value:"Example",id:"example-1",level:4},{value:"JavaScript mixins",id:"javascript-mixins",level:2},{value:"Create multiple style-rules",id:"create-multiple-style-rules",level:3},{value:"How mixins are applied",id:"how-mixins-are-applied",level:2},{value:"Considerations when using mixins",id:"considerations-when-using-mixins",level:2},{value:"Escape special characters",id:"escape-special-characters",level:3},{value:"Circular references",id:"circular-references",level:3}],m={toc:c};function p(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Stylable")," mixins enable you to reuse complex styles and CSS behaviors, defined in CSS or Javascript, and apply them to any style-rule during build time."),(0,r.kt)("p",null,"Here are some examples of when you can use mixins:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Presets/Variants - create reusable pieces of styling CSS"),(0,r.kt)("li",{parentName:"ul"},"Layouts - easily describe complex layouts"),(0,r.kt)("li",{parentName:"ul"},"Effects - easily describe complex effects"),(0,r.kt)("li",{parentName:"ul"},"Macros - use code to define the CSS macros you need")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you need to return only a single declaration value using code, we recommend instead using ",(0,r.kt)("a",{parentName:"p",href:"/docs/references/formatters"},"formatters"),".")),(0,r.kt)("h2",{id:"css-mixins"},"CSS mixins"),(0,r.kt)("p",null,"Any CSS stylesheet, class or element that is defined in a ",(0,r.kt)("strong",{parentName:"p"},"Stylable")," CSS file can be used as a mixin source. You can use either a local class or element, or import the mixin from a different stylesheet."),(0,r.kt)("p",null,"In the following example, a locally defined class is used as a mixin in the same stylesheet."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},".style-mixin {\n  color: green;\n  background: yellow;\n}\n.someClass {\n  -st-mixin: style-mixin;\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* CSS output */\n.someClass {\n  color: green; /* from local mixin */\n  background: yellow; /* from local mixin */\n}\n")),(0,r.kt)("p",null,"Here is an example of a ",(0,r.kt)("strong",{parentName:"p"},"Stylable")," CSS file that is imported and mixed into the classes of a different stylesheet. The ",(0,r.kt)("inlineCode",{parentName:"p"},".rootMixedIn")," class as a stylesheet and ",(0,r.kt)("inlineCode",{parentName:"p"},"classMixedIn")," as a class."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* mixins.st.css */\n.root {\n  color: purple;\n}\n\n.someClass {\n  color: green;\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},'/* example.st.css - imports the above mixin */\n@st-import MixRoot, [someClass] from "./mixins.st.css";\n\n.rootMixedIn {\n  -st-mixin: MixRoot; /* stylesheet mixin */\n}\n\n.classMixedIn {\n  -st-mixin: someClass; /* class mixin */\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* CSS output */\n.rootMixedIn {\n  color: purple; /* from stylesheet mixin */\n}\n\n.rootMixedIn .someClass {\n  /* ruleset added as a result of the stylesheet mixin */\n  color: green;\n}\n\n.classMixedIn {\n  color: green; /* from class mixin */\n}\n")),(0,r.kt)("h3",{id:"variable-overrides"},"Variable overrides"),(0,r.kt)("p",null,"CSS mixins can accept named parameters in the following format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"mixin(variableName valueOverride, variableName2 valueOverride2)\n")),(0,r.kt)("p",null,"Multiple variables can be comma separated or written on multiple lines:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"mixin (\n    variableName valueOverride,\n    variableName2 valueOverride2\n)\n")),(0,r.kt)("p",null,"Using parameters in a mixin enables you to override specific ",(0,r.kt)("a",{parentName:"p",href:"/docs/references/st-variables"},"variables")," inside of a mixin before they are applied."),(0,r.kt)("p",null,"Here is an example of using a variable in a CSS mixin and how it can be overridden by the mixin's parameter value."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},":vars {\n  color1: green;\n}\n\n.classToMixin {\n  background: value(color1);\n}\n\n.targetClass {\n  -st-mixin: classToMixin(color1 orange);\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* CSS output */\n.classToMixin {\n  background: green; /* from local class */\n}\n\n.targetClass {\n  background: orange; /* from mixin with override */\n}\n")),(0,r.kt)("h2",{id:"partial-css-mixins"},"Partial CSS mixins"),(0,r.kt)("p",null,"Partial CSS Mixins (",(0,r.kt)("inlineCode",{parentName:"p"},"-st-partial-mixin"),") is a continuation of the idea of mixins with parameter overrides. (as described above)"),(0,r.kt)("p",null,"Where a regular ",(0,r.kt)("inlineCode",{parentName:"p"},"-st-mixin")," includes all declarations inside the targeted mixed-in class, partial mixins enable you to pass through overriding variable values and mix in only declarations that would be affected by such an override."),(0,r.kt)("p",null,"For a partial mixin to work, at least one overriding variable must be provided, additional ones being optional."),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},":vars {\n  color1: red;\n  color2: green;\n}\n\n.my-mixin {\n  background: value(color1);\n  color: value(color2);\n}\n\n.container {\n  -st-partial-mixin: my-mixin(color1 gold);\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* output */\n.container {\n  background: gold;\n}\n")),(0,r.kt)("p",null,"A partial mixin will include any declaration in the mixed-in class (or rules containing the mixed-in class) that contains a variable usage that will be overridden. Any other variables not overridden inside the mixed in declaration will retain their original values."),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},":vars {\n  color1: red;\n  color2: green;\n  size1: 2px;\n}\n\n.my-mixin {\n  background: value(color1);\n  color: value(color2);\n}\n\n.my-mixin .part {\n  border: value(size1) solid value(color2);\n}\n\n.container {\n  -st-partial-mixin: my-mixin(color1 gold, size1 5px);\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* output */\n.container {\n  background: gold;\n}\n\n.container .part {\n  border: 5px solid green;\n}\n")),(0,r.kt)("h2",{id:"javascript-mixins"},"JavaScript mixins"),(0,r.kt)("p",null,"JavaScript mixins allow you to create complex structures in CSS based on the arguments passed to the mixin."),(0,r.kt)("p",null,"A JS mixin returns a CSS fragment which can contain multiple declarations with optional sub style-rules."),(0,r.kt)("p",null,"Arguments are passed to the mixin as a string argument and it's the mixin's responsibility to parse them."),(0,r.kt)("p",null,"Here is an example of a mixin receiving multiple arguments and returning multiple declarations into the target ruleset."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/* file my-mixin.js */\nmodule.exports = function colorAndBg([color, bgColor]) {\n  /* arguments: array of string types */\n\n  return {\n    color: color,\n    background: bgColor,\n  };\n};\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},'/* file example.st.css */\n@st-import colorAndBg from "./my-mixin";\n\n.codeMixedIn {\n  -st-mixin: colorAndBg(green, orange);\n  font-family: monospace;\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* CSS output */\n.codeMixedIn {\n  color: green; /* from JS mixin */\n  background: orange; /* from JS mixin */\n  font-family: monospace; /* from local class */\n}\n")),(0,r.kt)("h3",{id:"create-multiple-style-rules"},"Create multiple style-rules"),(0,r.kt)("p",null,"Mixins can return multiple style-rules that are mixed into the target stylesheet. These style-rules can be written with the following syntax options:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"selector")," - resulting ruleset is appended as a descendent selector to its mixed in target (in below example ",(0,r.kt)("inlineCode",{parentName:"li"},".otherClass"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"&selector")," - resulting ruleset references the parent selector into which it was mixed in (in below example ",(0,r.kt)("inlineCode",{parentName:"li"},"&:hover"),", the parent selector is ",(0,r.kt)("inlineCode",{parentName:"li"},".codeMixedIn"),")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'/* file my-mixin.js */\nmodule.exports = function complexMixin([color, bgColor]) {\n  /* arguments: array of string types */\n\n  return {\n    color: color,\n    background: bgColor,\n    "&:hover": {\n      color: "gold",\n    },\n    ".otherClass": {\n      color: "purple",\n    },\n  };\n};\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},'/* file example.st.css */\n@st-import complexMixin from "./my-mixin";\n\n.codeMixedIn {\n  -st-mixin: complexMixin(green, orange);\n  font-family: monospace;\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"/* CSS output */\n.codeMixedIn {\n  color: green; /* from JS mixin */\n  background: orange; /* from JS mixin */\n  font-family: monospace; /* from local class */\n}\n\n.codeMixedIn:hover {\n  /* from JS mixin with & */\n  color: gold;\n}\n\n.codeMixedIn .otherClass {\n  /* from JS mixin with appended selector */\n  color: purple;\n}\n")),(0,r.kt)("h2",{id:"how-mixins-are-applied"},"How mixins are applied"),(0,r.kt)("p",null,"Mixins can add CSS declarations to the CSS ruleset to which they are applied."),(0,r.kt)("p",null,"Rules are added at the position in the CSS where the ",(0,r.kt)("inlineCode",{parentName:"p"},"-st-mixin")," is declared.\nAny selectors that are appended as a result of the mixin are added directly after the ruleset that the mixin was applied to."),(0,r.kt)("p",null,"You can apply multiple mixins from either CSS or JavaScript, or both separated by comma ",(0,r.kt)("inlineCode",{parentName:"p"},"-st-mixin: mixinA, mixinB"),".\nMultiple mixins are applied according to the order that they are declared left to right."),(0,r.kt)("h2",{id:"considerations-when-using-mixins"},"Considerations when using mixins"),(0,r.kt)("p",null,"Take a look at these considerations before working with ",(0,r.kt)("strong",{parentName:"p"},"Stylable")," mixins."),(0,r.kt)("h3",{id:"escape-special-characters"},"Escape special characters"),(0,r.kt)("p",null,"You can escape special characters by wrapping them with quotes or using a backslash (",(0,r.kt)("inlineCode",{parentName:"p"},"\\"),")."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},'.x {\n  /* use quotations to include comma */\n  -st-mixin: mix(300, "xx,x"); /* ["300", "xx,x"] */\n}\n')),(0,r.kt)("p",null,"They can also be used to include quotes or backslashes as part of the parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},'.y {\n  /* escape slashes */\n  -st-mixin: mix(300, \'"xxx"\'); /* ["300", "\\"xxx\\""] */\n}\n')),(0,r.kt)("h3",{id:"circular-references"},"Circular references"),(0,r.kt)("p",null,"It is possible to reach a state where you have circular references between mixins. These cannot be resolved, and a diagnostics warning is issued in your ",(0,r.kt)("strong",{parentName:"p"},"Stylable")," code intelligence and build process."))}p.isMDXComponent=!0}}]);