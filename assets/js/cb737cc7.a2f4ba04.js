"use strict";(self.webpackChunkstylable_io=self.webpackChunkstylable_io||[]).push([[2212],{4655:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>m});var s=a(7462),n=(a(7294),a(4137)),o=a(2053);const r={id:"import-class",title:"Import Class"},l=void 0,i={unversionedId:"guides/handbook/import-class",id:"guides/handbook/import-class",title:"Import Class",description:"In the Runtime chapter, we saw how a Stylable stylesheet's API can be imported into a JavaScript module, and how that API can be used. In this chapter, we'll see how our game example can be divided into linked stylesheet modules to provide a better development experience.",source:"@site/docs/guides/handbook/import.mdx",sourceDirName:"guides/handbook",slug:"/guides/handbook/import-class",permalink:"/docs/guides/handbook/import-class",draft:!1,editUrl:"https://github.com/wixplosives/stylable.io/edit/master/docs/guides/handbook/import.mdx",tags:[],version:"current",frontMatter:{id:"import-class",title:"Import Class"},sidebar:"Guides",previous:{title:"Runtime",permalink:"/docs/guides/handbook/runtime"},next:{title:"Extend",permalink:"/docs/guides/handbook/extend"}},p={},m=[{value:"Stylesheet root",id:"stylesheet-root",level:2},{value:"Default import",id:"default-import",level:2},{value:"Stylesheet root selector",id:"stylesheet-root-selector",level:3},{value:"Class named import",id:"class-named-import",level:2},{value:"Validations",id:"validations",level:3},{value:"Exported by default",id:"exported-by-default",level:3},{value:"Further import use-cases",id:"further-import-use-cases",level:2}],d={toc:m};function c(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,s.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"In the ",(0,n.kt)("a",{parentName:"p",href:"/docs/guides/handbook/runtime"},"Runtime chapter"),", we saw how a Stylable stylesheet's API can be imported into a JavaScript module, and how that API can be used. In this chapter, we'll see how our game example can be divided into linked stylesheet modules to provide a better development experience."),(0,n.kt)("p",null,"Up to this point, we've talked mostly about a single stylesheet for our project (",(0,n.kt)("inlineCode",{parentName:"p"},"game.st.css"),"). Now we'll explore how to organize our code across multiple stylesheets."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Current status:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css"',title:'"game.st.css"'},".board { /* ... */ }\n\n.player {\n  -st-states: registered, \n              ranking(enum(first, second, third));\n  background: blue;\n}\n")),(0,n.kt)("h2",{id:"stylesheet-root"},"Stylesheet root"),(0,n.kt)("p",null,"Let's refactor the ",(0,n.kt)("inlineCode",{parentName:"p"},"player")," class from out of our ",(0,n.kt)("inlineCode",{parentName:"p"},"game.st.css")," to be in its own stylesheet."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="player.st.css"',title:'"player.st.css"'},".root {\n  -st-states: registered,\n              ranking(enum(first, second, third));\n  background: blue;\n}\n")),(0,n.kt)("p",null,"We created a new ",(0,n.kt)("inlineCode",{parentName:"p"},"player.st.css")," file above, and in it, created a new ",(0,n.kt)("inlineCode",{parentName:"p"},".root")," class. Then we moved the contents of the ",(0,n.kt)("inlineCode",{parentName:"p"},".player")," class rules to our new ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," class."),(0,n.kt)("admonition",{title:"default root class",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"In Stylable, each component stylesheet is represented by a ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," class that is automatically created, even if not explicitly defined by the user. This root class is expected to be applied to the ",(0,n.kt)("a",{parentName:"p",href:"/docs/references/root#examples"},"root element of the component"),".")),(0,n.kt)("p",null,"We can see that when we moved the ",(0,n.kt)("inlineCode",{parentName:"p"},"player")," class, we also included its styling declarations. This might cause additional work in the future when trying to customize this class from the outside."),(0,n.kt)("admonition",{title:"base style recommendation",type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"Stylable recommends that a component's stylesheet include minimal styling - only what is crucial for the functionality of the component or defines its structure. To follow this best practice, we need a way to import the ",(0,n.kt)("inlineCode",{parentName:"p"},"player.st.css")," stylesheet over to ",(0,n.kt)("inlineCode",{parentName:"p"},"game.st.css"),", and perform our styling customizations there.")),(0,n.kt)("h2",{id:"default-import"},"Default import"),(0,n.kt)("p",null,"Keep in mind that, as we saw earlier in the ",(0,n.kt)("a",{parentName:"p",href:"/docs/guides/handbook/namespacing#supported-symbols"},"Namespacing chapter"),", classes in Stylable are automatically namespaced. This means that if we wish to target a class from another stylesheet in a selector, we need to import it to link to it."),(0,n.kt)("p",null,"Below, we import the ",(0,n.kt)("inlineCode",{parentName:"p"},"player.st.css")," stylesheet and customize it by using the ",(0,n.kt)("inlineCode",{parentName:"p"},"@st-import")," at-rule, and providing it with a ",(0,n.kt)("strong",{parentName:"p"},"local name")," for the default export (beginning with a capital letter) and a ",(0,n.kt)("strong",{parentName:"p"},"request")," to the target stylesheet. Then we move any customizations out of ",(0,n.kt)("inlineCode",{parentName:"p"},"player.st.css")," into ",(0,n.kt)("inlineCode",{parentName:"p"},"game.st.css"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css - moved player customization"',title:'"game.st.css',"-":!0,moved:!0,player:!0,'customization"':!0},'@st-import Player from "./player.st.css";\n\n.board { /* ... */ }\n\nPlayer {\n  background: blue; /* moved from player.st.css */\n}\n')),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Namespacing output"),(0,n.kt)(o.Z,{title:"game.st.css",language:"css",mdxType:"CodeBlock"},'@st-import Player from "./player.st.css";  \n \n/* namespaced locally */\n.game__board { /* ... */ } \n  \n/* namespaced by player.st.css */\n.player__root {            \n  background: blue;\n}')),(0,n.kt)("h3",{id:"stylesheet-root-selector"},"Stylesheet root selector"),(0,n.kt)("p",null,"It's important to note that a default import of a Stylable stylesheet represents a component root, and is in fact pointing to the ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," class of that stylesheet."),(0,n.kt)("admonition",{title:"Unscoped warning",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"By importing the default export of a stylesheet and then styling it, we are potentially customizing every instance of the component across our project. It is therefore ",(0,n.kt)("strong",{parentName:"p"},"strongly recommended")," to scope any selector that originates from a different namespace (stylesheet) or includes native elements with a local class."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-css"},'@st-import Player from "./player.st.css";\n\n/* report unscoped warnings */\nPlayer {}\ndiv {}\n\n/* no warnings */\n.root Player {}\n.root div {}\n'))),(0,n.kt)("h2",{id:"class-named-import"},"Class named import"),(0,n.kt)("p",null,"For the next step, we would like to add ",(0,n.kt)("inlineCode",{parentName:"p"},"avatar")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"username")," parts to ",(0,n.kt)("inlineCode",{parentName:"p"},"player.st.css"),". These will be applied to the inner elements of the component, and are assumed to be nested under the ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," class."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="player.st.css - added avatar and username"',title:'"player.st.css',"-":!0,added:!0,avatar:!0,and:!0,'username"':!0},".root {\n  -st-states: registered,\n              ranking(enum(first, second, third));\n}\n.avatar {}\n.username {}\n")),(0,n.kt)("p",null,"We then proceed to bind these new classes to their matching elements in the component."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="player.jsx - bind avatar and username"',title:'"player.jsx',"-":!0,bind:!0,avatar:!0,and:!0,'username"':!0},'import { st, classes } from "./player.st.css";\n\nconst Player = ({ className }) => {\n  return (\n    <div className={st(classes.root, { /* states */ }, className)}>\n      <image className={classes.avatar} />\n      <span className={classes.username}></span>\n    </div>\n  )\n}\n')),(0,n.kt)("p",null,"Now that we have these new classes, we can customize them externally through ",(0,n.kt)("inlineCode",{parentName:"p"},"game.st.css"),". We do this by adding two ",(0,n.kt)("inlineCode",{parentName:"p"},"named imports"),", inside square brackets, that link to our classes."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css - player customization"',title:'"game.st.css',"-":!0,player:!0,'customization"':!0},'@st-import Player, [avatar, username] from "./player.st.css";\n\nPlayer {\n  /* paint the Player component background blue */\n  background: blue;\n}\nPlayer .avatar {\n  /* circle avatar */\n  border-radius: 50%;\n}\nPlayer .username {\n  /* all caps username */\n  text-transform: uppercase;\n}\n')),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Namespacing output - selectors only"),(0,n.kt)(o.Z,{title:"game.st.css",language:"css",mdxType:"CodeBlock"},'@st-import Player, [avatar, username] from "./player.st.css";  \n \n.player__root {}\n.player__root .player__avatar {}\n.player__root .player__username {}')),(0,n.kt)("h3",{id:"validations"},"Validations"),(0,n.kt)("p",null,"One of the nice things that we gain by using these Stylable imports is that requested symbols are validated, and we'll be notified if any of the imported parts are not found."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css - missing import"',title:'"game.st.css',"-":!0,missing:!0,'import"':!0},'/* report an error about an unknown "missingImport" symbol */\n@st-import [missingImport] from "./player.st.css";\n')),(0,n.kt)("h3",{id:"exported-by-default"},"Exported by default"),(0,n.kt)("p",null,"Any classes and other symbols defined in a stylesheet are automatically exported and available for import."),(0,n.kt)("admonition",{title:"Explicit exports",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"We are in the process of developing ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/wix/stylable/issues/2604"},"explicit export support"),", and will expand this section once available.")),(0,n.kt)("h2",{id:"further-import-use-cases"},"Further import use-cases"),(0,n.kt)("p",null,"Up to this point, we've only needed to import classes between stylesheets. In later chapters of this guide, we will learn how to import and use additional symbols, as well as additional import use cases from JavaScript to our stylesheet."),(0,n.kt)("p",null,"Check out the API cheatsheet to see various ",(0,n.kt)("a",{parentName:"p",href:"../../references/cheatsheet#module-system"},"@st-import")," examples."),(0,n.kt)("hr",null),(0,n.kt)("p",null,"In this chapter, we've seen how to divide a stylesheet to separate modules, and how to customize those externally. We approached doing this by manually importing each class (default or named), and customizing them together using a selector."),(0,n.kt)("p",null,"In the ",(0,n.kt)("a",{parentName:"p",href:"./extend"},"Next chapter"),", we'll learn how Stylable can extend stylesheets, exposing their inner parts as an API to make our lives easier."))}c.isMDXComponent=!0}}]);