"use strict";(self.webpackChunkstylable_io=self.webpackChunkstylable_io||[]).push([[7963],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),u=r,g=m["".concat(l,".").concat(u)]||m[u]||c[u]||i;return n?a.createElement(g,s(s({ref:t},d),{},{components:n})):a.createElement(g,s({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1716:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={id:"custom-state",title:"Custom State"},s=void 0,o={unversionedId:"guides/handbook/custom-state",id:"guides/handbook/custom-state",title:"Custom State",description:"In CSS, we have the ability to target native states of various elements using the pseudo-class syntax (for instance,active).",source:"@site/docs/guides/handbook/state.md",sourceDirName:"guides/handbook",slug:"/guides/handbook/custom-state",permalink:"/docs/guides/handbook/custom-state",draft:!1,editUrl:"https://github.com/wixplosives/stylable.io/edit/master/docs/guides/handbook/state.md",tags:[],version:"current",frontMatter:{id:"custom-state",title:"Custom State"},sidebar:"Guides",previous:{title:"Namespacing",permalink:"/docs/guides/handbook/namespacing"},next:{title:"Runtime",permalink:"/docs/guides/handbook/runtime"}},l={},p=[{value:"Define and target",id:"define-and-target",level:2},{value:"Runtime toggle",id:"runtime-toggle",level:2}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In CSS, we have the ability to target native states of various elements using the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes"},(0,r.kt)("inlineCode",{parentName:"a"},"pseudo-class"))," syntax (for instance, ",(0,r.kt)("inlineCode",{parentName:"p"},":hover")," or ",(0,r.kt)("inlineCode",{parentName:"p"},":active"),")."),(0,r.kt)("p",null,"While this is very handy, as of today, CSS does not provide a way for us to define a custom state on every element. For example, we might want a ",(0,r.kt)("inlineCode",{parentName:"p"},"registered")," custom state to represent a player element that has signed up for our game."),(0,r.kt)("p",null,"We could choose to implement such a state manually by using a class selector (e.g. using a ",(0,r.kt)("a",{parentName:"p",href:"http://getbem.com/naming/#modifier:~:text=block__elem%20%7B%20color%3A%20%23042%3B%20%7D-,Modifier,-Flags%20on%20blocks"},"BEM modifier"),": ",(0,r.kt)("inlineCode",{parentName:"p"},".NAMESPACE--registered"),") or attribute selector (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"[data-NAMESPACE-registered]"),")."),(0,r.kt)("p",null,"This is a bit of a pain for several reasons. Unlike native pseudo-classes, a class or an attribute selector is not semantic, and so we lose the original intent. If a convention like BEM is used, then the semantics are conserved, but it increases the verbosity of our code."),(0,r.kt)("p",null,"By defining our states through Stylable, we gain the benefit of validations, completions, and a consistent syntax for states."),(0,r.kt)("h2",{id:"define-and-target"},"Define and target"),(0,r.kt)("p",null,"To define a registered state for our ",(0,r.kt)("inlineCode",{parentName:"p"},"player")," class, we will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"-st-states")," declaration, and pass it a single state name of ",(0,r.kt)("inlineCode",{parentName:"p"},"registered"),"."),(0,r.kt)("p",null,"We can then target this state using our newly-defined ",(0,r.kt)("inlineCode",{parentName:"p"},":registered")," pseudo-class, knowing it will be transformed to a valid, safe selector at build time."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css"',title:'"game.st.css"'},".player {\n  -st-states: registered; /* definition */\n}\n.player:registered {}     /* usage */\n\n/* OUTPUT - namespace class and state */\n.game__player {}\n.game__player.game--registered {}\n")),(0,r.kt)("p",null,"In the example above, we defined a ",(0,r.kt)("inlineCode",{parentName:"p"},"registered")," boolean state that can either be targeted, or not. Let's imagine, though, that in addition to the ",(0,r.kt)("inlineCode",{parentName:"p"},"registered")," state, we now want to highlight ",(0,r.kt)("inlineCode",{parentName:"p"},"first"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"second"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"third")," ranking players."),(0,r.kt)("p",null,"We can define such a state by passing the ",(0,r.kt)("inlineCode",{parentName:"p"},"enum")," parameter type to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ranking")," state definition, and in it, list our possible options."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="game.st.css"',title:'"game.st.css"'},".player {\n  -st-states: registered, \n              ranking(enum(first, second, third)); \n}\n\n.player:ranking(first)   {}    \n.player:ranking(second)  {}    \n.player:ranking(third)   {}     \n")),(0,r.kt)("p",null,"There are additional parameter types, as well as validators, default values, and mapping capabilities to Stylable custom states. ",(0,r.kt)("a",{parentName:"p",href:"/docs/references/pseudo-classes"},"Read more in the API reference"),"."),(0,r.kt)("admonition",{title:"Conflicts with native",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},'At this point, you may have noticed that we can define states that would conflict with native CSS ones. For example, we can define a "custom" state called ',(0,r.kt)("inlineCode",{parentName:"p"},":hover")," that would conflict with the native ",(0,r.kt)("inlineCode",{parentName:"p"},":hover")," pseudo-class."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-css"},".player {\n  -st-states: hover;\n}\n.player:hover {} /* custom state, not the native one */\n")),(0,r.kt)("p",{parentName:"admonition"},"Due to this potentially confusing behavior, we ",(0,r.kt)("strong",{parentName:"p"},"strongly recommend")," against naming states that would conflict with native ones.")),(0,r.kt)("h2",{id:"runtime-toggle"},"Runtime toggle"),(0,r.kt)("p",null,"Now that we have defined our states, we want to be able to toggle them at runtime in our component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="game.jsx"',title:'"game.jsx"'},'import { cssStates, classes } from "./game.st.css";\n\n// create a registered first ranking player\n<div className={\n    classes.player + " " + cssStates({ \n      registered: true,\n      ranking: "first" \n    })}>\n</div>;\n')),(0,r.kt)("p",null,"Looking at the example above, we import the ",(0,r.kt)("inlineCode",{parentName:"p"},"cssStates")," function and the ",(0,r.kt)("inlineCode",{parentName:"p"},"classes")," mapping from our ",(0,r.kt)("inlineCode",{parentName:"p"},"game.st.css")," stylesheet. We then create a ",(0,r.kt)("inlineCode",{parentName:"p"},"div")," element to represent a ",(0,r.kt)("em",{parentName:"p"},"registered")," and ",(0,r.kt)("em",{parentName:"p"},"first rank")," player."),(0,r.kt)("p",null,"This example, where we manually concatenate the class and states, is quite verbose and potentially confusing. In the next chapter, we will explore Stylable's runtime feature set and see a cleaner way of working with states at runtime."))}c.isMDXComponent=!0}}]);